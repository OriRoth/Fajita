 mark a
 set noic
 syntax off


%s/ *\\\\/‚èé/ge   
%s/  *‚èé/‚èé/ge   

%s/ *\\\\%\> */ÔºÖ/ge  

%s// /ge     " Clear DOS junk
%s//\\item /ge     " Clear DOS junk

" Space manageement
"==================
%s/\t/  /ge                  " All tabs are two spaces. 
%s/ \+$//ge                  " Remove trailing spaces
"1,/[^ ]-de                  " Remove empty lines at BOF
"v/\_s*\S/de                 " Remove empty lines at EOF

%s/\(\n\n\)\n\+/\1/e                         " Collapse multiple empty lines into one.
%s/\([^ ]\)  \+/\1 /ge                       " Remove multiple spaces between words.
s/} \+}/}}/ge                                " Redundant spaces between closing brackets 

" Makse sure that there are tildes in the right place
%s/\([^\~& ]\) \+\$/\1\~$/ge  
%s/\~\\\[/ \[/ge  
%s/\([^\~& ]\) \+\\CPL\>/\1\~\\CPL/ge  

" Remove spaces around tilde and compress multiple occurrences
%s/ \+\~/\~/ge  
%s/\~ \+/\~/ge  
%s/\~\~\+/\~/ge  


" Key-value list
%s/\[ *,/\[/ge                          " Remove redundant comma at the list's beginning 
%s/, *\]/\]/ge                          " Remove redundant comma at the list's end 


%s/ *\\par\> \+/¬∂/ge  
%s/\s*\\footnote\> */‚Ä†/ge  

%s/\\#/ÔºÉ/ge  
%s/\\%/ÔºÖ/ge  
%s/\\&/ÔºÜ/ge  
%s/``/‚Äü/ge
%s/''/‚Äù/ge
%s/ *\\cmark\> */‚úì/ge  
%s/ *\\xmark\> */‚úó/ge  

%s/¬¢\\relax¬¢/¬¢¬¢/ge
%s/\\relax}/}/ge
%s/{\\relax/{%/ge

%s/ *\\ll\> */‚â´/ge
%s/ *\\gg\> */‚â´/ge
%s/ *\\approx\> */‚âà/ge

%s/\\{/‚ù¥/ge
%s/\\}/‚ùµ/ge


" Math blackboard bold
""""""""""""""""""""""
%s/ *\\mathbb \+C */‚ÑÇ/ge  
%s/ *\\mathbb *{ *C *} */‚ÑÇ/ge  
%s/ *\\mathbb \+I */ùïÄ/ge  
%s/ *\\mathbb *{ *I *} */ùïÄ/ge  
%s/ *\\mathbb \+N */‚Ñï/ge  
%s/ *\\mathbb *{ *N *} */‚Ñï/ge  
%s/ *\\mathbb \+R */‚Ñù/ge  
%s/ *\\mathbb *{ *R *} */‚Ñù/ge  
%s/ *\\mathbb \+T */ùïã/ge  
%s/ *\\mathbb *{ *T *} */ùïã/ge  
%s/ *\\mathbb \+V */ùïç/ge  
%s/ *\\mathbb *{ *V *} */ùïç/ge  
%s/ *\\mathbb \+Z */‚Ñ§/ge  
%s/ *\\mathbb *{ *Z *} */‚Ñ§/ge  

" Math boldface 
""""""""""""""""""""""
%s/ *\\mathbf \+n */ùóª/ge  
%s/ *\\mathbf *{ *n *} */ùóª/ge  
%s/ *\\mathbf \+0 */ùü¨/ge  
%s/ *\\mathbf *{ *0 *} */ùü¨/ge  
%s/ *\\mathbf \+1 */ùü≠/ge  
%s/ *\\mathbf *{ *1 *} */ùü≠/ge  

" Math calligraphic 
""""""""""""""""""""""
%s/ *\\mathcal \+D */ùíü/ge  
%s/ *\\mathcal *{ *D *} */ùíü/ge  
%s/ *\\mathcal \+L */ùìõ/ge  
%s/ *\\mathcal *{ *L *} */ùìõ/ge  
%s/ *\\mathcal \+T */ùì£/ge  
%s/ *\\mathcal *{ *T *} */ùì£/ge  

%s/ *\\aleph\> */‚Ñµ/ge  
%s/ *\\alpha\> */Œ±/ge  
%s/ *\\beta\> */Œ≤/ge  
%s/ *\\bot\> */‚ä•/ge  
%s/ *\\bullet\> */‚àô/ge
%s/ *\\cap\> */‚à©/ge  
%s/ *\\cdot\> */¬∑/ge
%s/ *\\cdots\> */‚ãØ/ge
%s/ *\\chi\> */œá/ge
%s/ *\\cup\> */‚à™/ge  
%s/ *\\dbend\> */‚ò°/ge  
%s/ *\\delta\> */Œ¥/ge  
%s/ *\\ell\> */‚Ñì/ge  
%s/ *\\pm\> */¬±/ge  
%s/ *\\emptyset\> */‚àÖ/ge  
%s/ *\\epsilon\> */Œµ/ge  
%s/ *\\equiv\> */‚â°/ge  
%s/ *\\eta\> */Œ∑Œº/ge
%s/ *\\exists\> */‚àÉ/ge  
%s/ *\\forall\> */‚àÄ/ge  
%s/ *\\gamma\> */Œ≥/ge  
%s/ *\\gamma\> */Œª/ge  
%s/ *\\ge\> */‚â•/ge  
%s/ *\\infty\> */‚àû/ge  
%s/ *\\in\> */‚àà/ge
%s/ *\\lambda\> */Œª/ge  
%s/ *\\langle\> */‚ü®/ge  
%s/ *\\ldots>/‚Ä¶/ge  
%s/ *\\ldots\>/‚Ä¶/ge  
%s/ *\\leftarrow\> */‚Üê/ge  
%s/ *\\Leftarrow\> */‚áê/ge 
%s/ *\\Leftrightarrow\> */‚áî/ge 
%s/ *\\le\> */‚â§/ge  
%s/ *\\mu\>/Œº/ge
%s/ *\\mu_/Œº_/ge
%s/ *\\ne\> */‚â†/ge  
%s/ *\\neg\> */¬¨/ge  
%s/ *\\phi\> */œÜ/ge   
%s/ *\\pi\> */œÄ/ge  
%s/ *\\rho\> */œÅ/ge  
%s/ *\\prec\> */‚â∫/ge  
%s/ *\\quad\>/‚ñÑ/ge  
%s/ *\\rangle\> */‚ü©/ge  
%s/ *\\rightarrow\> */‚Üí/ge  
%s/ *\\Rightarrow\> */‚áí/ge  
%s/ *\\sigma\> */œÉ/ge  
%s/ *\\Sigma\> */Œ£/ge  
%s/ *\\sqrt\> */‚àö/ge  
%s/ *\\subseteq\> */‚äÜ/ge  
%s/ *\\subset\> */‚äÇ/ge  
%s/ *\\tau\> */œÑ/ge   
%s/ *\\textasciitilde\> */‚àø/ge   
%s/ *\\times\> */‚®â/ge  
%s/ *\\top\> */‚ä§/ge  
%s/ *\\varphi\> */œï/ge   
%s/ *\\vdots\> */‚ãÆ/ge  
%s/ *\\vee\> */‚à®/ge
%s/ *\\wedge\> */‚àß/ge
%s/ *\\wp\> */ùí´/ge  
%s/ *\\xi\> */Œæ/ge  
%s/ *\\zeta\> */Œ∂/ge

%s/\([^\\]\)_{0}/\1‚ÇÄ/ge  
%s/\([^\\]\)_0/\1‚ÇÄ/ge  
%s/\([^\\]\)_{1}/\1‚ÇÅ/ge  
%s/\([^\\]\)_1/\1‚ÇÅ/ge  
%s/\([^\\]\)_{+}/\1‚Çä/ge  
%s/\([^\\]\)_+/\1‚Çä/ge  
%s/\([^\\]\)_{2}/\1‚ÇÇ/ge  
%s/\([^\\]\)_2/\1‚ÇÇ/ge  
%s/\([^\\]\)_{3}/\1‚ÇÉ/ge  
%s/\([^\\]\)_3/\1‚ÇÉ/ge  
%s/\([^\\]\)_{4}/\1‚ÇÑ/ge  
%s/\([^\\]\)_4/\1‚ÇÑ/ge  
%s/\([^\\]\)_{5}/\1‚ÇÖ/ge  
%s/\([^\\]\)_5/\1‚ÇÖ/ge  
%s/\([^\\]\)_{6}/\1‚ÇÜ/ge  
%s/\([^\\]\)_6/\1‚ÇÜ/ge  
%s/\([^\\]\)_{7}/\1‚Çá/ge  
%s/\([^\\]\)_7/\1‚Çá/ge  
%s/\([^\\]\)_{8}/\1‚Çà/ge  
%s/\([^\\]\)_8/\1‚Çà/ge  
%s/\([^\\]\)_{9}/\1‚Çâ/ge  
%s/\([^\\]\)_9/\1‚Çâ/ge  
%s/\([^\\]\)_{i}/\1·µ¢/ge  
%s/\([^\\]\)_i/\1·µ¢/ge  
%s/\([^\\]\)_{j}/\1‚±º/ge  
%s/\([^\\]\)_j/\1‚±º/ge  
%s/\([^\\]\)_{k}/\1‚Çñ/ge  
%s/\([^\\]\)_k/\1‚Çñ/ge  
%s/\([^\\]\)_{m}/\1‚Çò/ge  
%s/\([^\\]\)_m/\1‚Çò/ge  
%s/\([^\\]\)_{n}/\1‚Çô/ge  
%s/\([^\\]\)_n/\1‚Çô/ge  

%s/\([^\\]\)^0/\1‚Å∞/ge  
%s/\([^\\]\)^1/\1¬π/ge  
%s/\([^\\]\)^-/\1‚Åª/ge  
%s/\([^\\]\)^+/\1‚Å∫/ge  
%s/\([^\\]\)^2/\1¬≤/ge  
%s/\([^\\]\)^3/\1¬≥/ge  
%s/\([^\\]\)^4/\1‚Å¥/ge  
%s/\([^\\]\)^5/\1‚Åµ/ge  
%s/\([^\\]\)^6/\1‚Å∂/ge  
%s/\([^\\]\)^7/\1‚Å∑/ge  
%s/\([^\\]\)^8/\1‚Å∏/ge  
%s/\([^\\]\)^9/\1‚Åπ/ge  
%s/\([^\\]\)^i/\1‚Å±/ge  
%s/\([^\\]\)^n/\1‚Åø/ge  


source ./+long

'a
syntax on
set smartcase
