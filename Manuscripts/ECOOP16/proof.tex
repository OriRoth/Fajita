\begin{Definition}[Deterministinc Pushdown Automaton]
  \label{Definition:DPDA}
  A \emph{deterministic pushdown automaton} (DPDA),~$M$, is an 8-tuple
  \[
    M =⟨Q,Σ,Γ, q₀,⊥, A,δ,η⟩
  \]
  where~$Q$ is the a finite set of
  \emph{the states of~$M$},~$Σ$ is a finite
  \emph{set of input symbols},~$Γ$ is a finite
  \emph{set of stack symbols},~$q₀∈Q$ is the initial state,~$⊥∈Γ$
  is a \emph{special symbol designating the bottom of the stack}
  and~$A⊆Q$ is the \emph{set of accepting states} while~$δ$ and~$η$ are
  the \emph{partial functions of state transition}
  \[
    \begin{array}{crlc}
      δ: & Q⨉Σ⨉Γ &↛& Q⨉Γ^*⏎
      η: & Q⨉Γ &↛& Q⨉Γ^*,⏎
    \end{array}
  \]
\end{Definition}

\begin{Definition}[Simplified Pushdown Automaton]
  \label{Definition:SPDA}
  A \emph{\textbf simplified \textbf pushdown \textbf automaton} (SPDA)~$M$ of order~$k$ is a 7-tuple
  \[
    M =⟨Q,Σ,Γ,q₀,⊥, A,δ⟩
  \]
  where~$Q$,~$Σ$,~$Γ$,~$q₀$,~$⊥∈Γ$ and~$A$ are precisely as in \cref{Definition:DPDA}.
  However, the signature of function~$δ$, the \emph{generalized partial transition function}
  of an SPDA of order~$k$, is:
  \begin{equation}
    \label{Equation:generalized:transition}
      δ: Q⨉Σ⨉Γᵏ↛Q⨉Γ^*
    \end{equation}
\end{Definition}

\begin{Theorem}
  \label{Theorem:SPDA}
  For every SPDA~$M$ there exists a set~$J_M$ of \Java type declarations, such that
    I do not know what to so say here yet.
\end{Theorem}

The remainder of this section is dedicated to the proof of \cref{Theorem:SPDA}.
In particular, we describe how~$J_M$ is constructed from the
  specification of~$M$.

We shall be using the following notation for
The stack contents~$⊥ξ₁ξ₁ξ₂ξ₁$,

\begin{figure}
\begin{JAVA}
class Stack<Head extends ¢$Γ$¢, Rest extends Stack<?,?> > {¢¢
  Head head;
  Rest rest;
  Stack(Head head, Rest rest) {¢¢ this.head = head; this.rest = rest;}
  Rest pop() {¢¢ return rest; };
}
\end{JAVA}
For each state~$ξ∈Q$, we generate a \Java class~$ξ$,
\begin{JAVA}
class ¢$ξ$¢ <T extends S> extends S<T> {¢¢
  ¢$ξ$¢(T t) {¢¢ super(t); }
  // ¢…¢
}
\end{JAVA}
\end{figure}
In addition, we define a special class~$\vdash$ that designates the bottom of the stack.
\begin{JAVA}
class ¢$\vdash$¢ extends Stack<¢$Γ$¢, ¢$\vdash$¢> {¢¢
  ¢$\vdash$ ¢() {¢¢ super(null); }
  ¢$\vdash$ ¢pop() {¢¢ throw new RunTimeException(); }
}
\end{JAVA}
The stack contents~$⊥ξ₁ξ₁ξ₂ξ₁$,
where~$ξ₁,ξ₂∈Q$ are stack symbols,
is represented by the following type
\begin{JAVA}
  ¢$ξ₁$¢ < ¢$ξ₂$¢ < ¢$ξ₁$¢ < ¢$⊥$ > > >
\end{JAVA}
This is a general concept for implementing an unbounded stack with \Java's type system,
that will be extended in the future.


\subsection{Encoding states of pushdown automaton with \Java generics}
The generalized transition function \cref{Equation:generalized:transition}
  takes~$k+2$ arguments: a state~$q∈Q$, an input symbol~$σ∈Σ$
    and~$k$ stack symbols drawn from~$Γ$.
To capture the full behavior of the automaton, the transition function
  must be able to pass along, in one way or another, the full contents of the stack.

Since the scheme described above can only be applied for binary functions,
  we shall pack together the state~$q$, the stack, and the~$k$ top most
  elements of it into a single type.
The next input symbol,~$σ∈Σ$, the remaining argument of function~$δ$,
  is encoded as a method.

The type part of the encoding is obtained by instantiating a generic type as follows:
Let~\cc{Q} be the abstract class that represents~$Q$, and let~\cc{q} be the concrete class that
  implements~\cc{Q} for an automaton state~$q∈Q$.
Then, to accommodate the extra~$k$ parameters of~$δ$, we add~$k$ generic parameters
  to class~$Q$ and to every class~\cc{q} that implements it.
Yet another such parameter is added for representing stack contents.

Consider the case~$k=2$.
\begin{figure}
  \begin{JAVA}
abstract class Q<S, ¢$γ₁$¢, ¢$γ₂$¢
  \end{JAVA}
\end{figure}

\begin{figure}
  \caption{\label{Figure:SPDA:hierarchy}%
    Type hierarchy of the type encoding of a simple SPDA.
  }
  \begin{adjustbox}{}
    \input ../Figures/automaton.tikz
  \end{adjustbox}
\end{figure}

\begin{figure}
  \caption{\label{Figure:SPDA:example}%
    A type encoding of a simple pushdown automaton.
  }
  \javaInput[minipage,width=\linewidth]{spda.listing}
\end{figure}
As might be expected, this type is obtained
The
The

To encode this function within
